# MathCanvas

MathCanvasは、中学校数学教育のためのインタラクティブなオンライン学習プラットフォームです。HTML5 Canvasを使用して、学生が図形に直接描画しながら数学的概念を学習・探究できる環境を提供します。

## 概要

このプラットフォームでは、学生が幾何学的図形上で直接描画や計算を行いながら、数学的な概念を視覚的に理解することができます。教師は学生の学習過程をリアルタイムで確認し、学習状況を把握することができます。

## 主な機能

### 学習モジュール
- **多角形の内角の和**: 多角形の内角に関する学習
- **くの字型の角**: 平行線と角度の関係を学習
- **星形五角形の内角の和 (CD)**: 星形五角形の内角計算
- **星形五角形の内角の和 (AB)**: 別のアプローチでの星形五角形学習

### 学生向け機能
- **インタラクティブキャンバス**: 図形上に直接描画可能
- **マルチカラー描画ツール**: 黒、赤、青、白のペンツール
- **リアルタイム保存**: 描画内容の自動保存（3秒間隔）
- **学習過程記録**: すべての描画動作とタイムスタンプを記録
- **自己評価システム**: 学習後の振り返りと評価機能
- **タッチ対応**: タブレットやスマートフォンでの学習をサポート

### 教師向け機能
- **学習進捗監視**: 学生の描画過程をリアルタイムで確認
- **データ分析**: 学生の学習行動パターンの分析
- **授業支援ツール**: クラス全体の学習状況を把握
- **振り返りレビュー**: 学生の自己評価内容の確認

## 技術仕様

### フロントエンド
- **HTML5 Canvas**: 描画機能の実装
- **JavaScript/jQuery**: インタラクティブ機能
- **CSS3**: レスポンシブデザイン
- **Ajax**: 非同期データ通信

### バックエンド
- **PHP**: サーバーサイド処理
- **セッション管理**: ユーザー認証とデータ管理
- **ファイルシステム**: 画像とCSVデータの保存

### データ保存
- **画像保存**: Canvas内容のJPEG形式での保存
- **座標データ**: ペンの動き、色、時間をCSV形式で記録
- **学習記録**: セッション毎の学習データ管理

## インストールとセットアップ

### 必要環境
- Webサーバー（Apache/Nginx）
- PHP 7.0以上
- 書き込み権限のあるディレクトリ

### インストール手順

1. **リポジトリのクローン**
```bash
git clone https://github.com/nov11masaki/MathCanvas.git
cd MathCanvas
```

2. **Webサーバーでの配置**
```bash
# Webサーバーのドキュメントルートに配置
sudo cp -r MathCanvas /var/www/html/
```

3. **権限設定**
```bash
# 画像とデータ保存用のディレクトリに書き込み権限を付与
sudo chmod -R 755 /var/www/html/MathCanvas
sudo chown -R www-data:www-data /var/www/html/MathCanvas
```

4. **アクセス**
ブラウザで `http://your-domain/MathCanvas/` にアクセス

## 使用方法

### 学生の場合

1. **ログイン**: トップページでユーザー名を選択
2. **学習モジュール選択**: 学習したい単元を選択
3. **描画学習**:
   - 表示された図形上に線や補助線を描画
   - カラーペンを使用して異なる要素を区別
   - 描画内容は自動的に保存される
4. **自己評価**: 学習終了後に理解度を評価

### 教師の場合

1. **教師ログイン**: 専用ログインページからアクセス
2. **学習監視**: 学生の学習状況をリアルタイムで確認
3. **データ分析**: 学生の学習行動データを分析
4. **授業支援**: クラス全体の進捗状況を把握

## プロジェクト構造

```
MathCanvas/
├── index.php                 # メインログインページ
├── student/                  # 学生向け機能
│   ├── top.php              # 学生ダッシュボード
│   ├── dogleg2/             # くの字型の角学習
│   ├── starpentagon/        # 星形五角形学習（CD）
│   └── starpentagon2/       # 星形五角形学習（AB）
├── teacher/                  # 教師向け機能
│   ├── teacher_login.php    # 教師ログイン
│   ├── top.html             # 教師ダッシュボード
│   ├── dogleg/              # 教師用くの字型監視
│   ├── starpentagon/        # 教師用星形五角形監視（CD）
│   └── starpentagon2/       # 教師用星形五角形監視（AB）
└── README.md                # このファイル
```

## 学習データの記録

### 描画データ
- **座標情報**: ペンの軌跡をX,Y座標で記録
- **時間情報**: 各描画動作のタイムスタンプ
- **ペン情報**: 色、太さ、状態（開始/停滞/終了）

### 学習分析
記録されたデータから以下の分析が可能：
- 学習時間の分析
- 描画パターンの分析
- 思考過程の可視化
- 学習効果の測定

## カスタマイズ

### 新しい学習モジュールの追加
1. `student/` ディレクトリに新しいフォルダを作成
2. 描画用HTMLファイルの作成
3. 対応するPHPファイルの実装
4. 教師向け監視機能の実装

### ユーザー管理
- `index.php` でユーザーリストを管理
- `teacher_login.php` で教師アカウントを管理

## 対応ブラウザ

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 16+

## ライセンス

このプロジェクトは教育目的で開発されています。使用に際しては適切なクレジットを表示してください。

## 貢献

バグ報告や機能改善の提案は、GitHubのIssueページでお願いします。

## 作者

nov11masaki - [GitHub](https://github.com/nov11masaki)

## 更新履歴

- v1.0.0: 初回リリース
  - 基本的な描画機能
  - 3つの主要学習モジュール
  - 教師の確認機能
  - 学習データ記録機能
